@model List<Model.Category>
@{
	var user = (Model.User)Session["User"];

}
<header class="header-pos">
	<div style="float:right;width:300px;position:relative;position:absolute;top:50px; right: 100px;z-index: 9999">
		<div class="alert alert-success" hidden>

			@if (TempData["DataSuccess"] != null)
			{
				@TempData["DataSuccess"]
			}
			else
			{
				<strong>Lưu thành công!</strong>
			}
		</div>
		<div class="alert alert-danger" hidden>
			<strong>Đã có lỗi xảy ra</strong>
		</div>
	</div>
	<div class=" header-middle">
		<div class="container-fluid">
			<div class="row">
				<div class="col-md-2 col-sm-3 col-xs-12">
					<div class="logo">
<a><img style="width:150px;height:50px;" src="~/Asset/FrontEnd/images/Logo4.jfif" alt="Alternate Text" /></a>					
					</div>
				</div>
				<div class="col-md-10 col-sm-9 col-xs-12 text-right xs-center">
					<div class="main-menu display-inline hidden-sm hidden-xs">
						<nav>
							<ul>
								<li>
									<a href="/">Trang Chủ</a>
								</li>
								<li>
									<a href="/About">Giới Thiệu</a>
								</li>


								<li>
									<a href="/lien-he/">Liên Hệ</a>
								</li>
								<li>
									<a href="/Blog/Index">Blog</a>

								</li>
							</ul>

						</nav>
					</div>

					<div style="width: 40%" class="search-block-top display-inline">
						@if (Session["User"] != null)
						{

							<div style="font-weight:700;color:#2c2c2c">Chào! @user.FullName | <a style="color:#2c2c2c" href="@Url.Action("LogOut","Login")">Đăng xuất</a></div>
						}
						else
						{

							<div style="">
								<a style="color: #2c2c2c;font-weight: 700;" href="@Url.Action("Index", "Login")">Đăng nhập</a>
								| <a style="color: #2c2c2c;font-weight: 700;" href="@Url.Action("Index", "Resgiter")">Đăng ký</a>

								<div style="float: left" class="dropdown">
									<span type="button" data-toggle="dropdown">
										<a style="color: #2c2c2c;font-weight: 700;" class="glyphicon glyphicon-bell "></a>
									</span>
									<ul class="dropdown-menu">
										<li><a href="#">HTML</a></li>
										<li><a href="#">CSS</a></li>
										<li><a href="#">JavaScript</a></li>
									</ul>
								</div>
							</div>
						}
					</div>
					@{ Html.RenderAction("HeaderCart", "Home");}
				</div>
			</div>
		</div>
	</div>
	<div class="mobile-menu-area visible-sm visible-xs">
		<div class="container-fluid">
			<div class="row">
				<div class="col-md-12">
					<div class="mobile-menu">
						<nav id="mobile-menu-active">
							<ul>
								<li>
									<a href="/">Trang Chủ</a>
								</li>
								<li>
									<a href="/About">Giới Thiệu</a>
								</li>

								<li>
									<a href="/lien-he/">Liên Hệ</a>
								</li>
								<li>
									<a href="/Blog/Index">Blog</a>

								</li>
								<li>
									<a href="#">Danh mục</a>
									<ul>
										@foreach (var itemGrandParent in Model)
										{
										var url = "/danh-muc-san-pham/" + itemGrandParent.Slug + "-" + itemGrandParent.ID;
										if ( Model.Any(x => x.ParentID == itemGrandParent.ID))
										{
												<li>
													<a href="#">@itemGrandParent.Name </a>
													<ul>
														@foreach (var itemParent in Model)
														{
															var urlParent = "/danh-muc-san-pham/" + itemParent.Slug + "-" + itemParent.ID;
															if (itemGrandParent.ID == itemParent.ParentID && Model.Any(x => x.ParentID == itemParent.ID))
															{

																<li>
																	<a href="#">@itemParent.Name</a>
																	<ul>
																		@foreach (var itemChild in Model)
																		{
																			var urlChild = "/danh-muc-san-pham/" + itemChild.Slug + "-" + itemChild.ID;
																			if (itemParent.ID == itemChild.ParentID)
																			{
																				<li>
																					<a href="@urlChild">
																						@itemChild.Name
																					</a>
																				</li>				}
																		}

																	</ul>
																</li>

															}
															else if (itemGrandParent.ID == itemParent.ParentID)
															{
																<li><a href="@urlParent">@itemParent.Name</a></li>
															}

														}

													</ul>
												</li>
												}
												else if (itemGrandParent.ParentID == null)
												{
												<li><a href="@url">@itemGrandParent.Name</a></li>
												<li><a href="@url">@itemGrandParent.Name</a></li>
											}

										}
									</ul>
								</li>
							</ul>
						</nav>
					</div>
				</div>
			</div>
		</div>
	</div>
</header>
