<!doctype html>
<html class="no-js" lang="en">


<!-- Mirrored from demo.devitems.com/gicor-preview/gicor/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 23 Nov 2018 04:48:35 GMT -->
<head>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<title>@ViewBag.Title</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- favicon
	============================================ -->
	<link rel="shortcut icon" type="image/x-icon" href="img/favicon.png">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
	<!-- All css files are included here. -->
	<!-- Bootstrap framework main css -->
	<link rel="stylesheet" href="~/Asset/FrontEnd/css/bootstrap.min.css">
	<!-- This core.css file contents all plugings css file. -->
	<link rel="stylesheet" href="~/Asset/FrontEnd/css/core.css">
	<!-- Theme shortcodes/elements style -->
	<link rel="stylesheet" href="~/Asset/FrontEnd/css/shortcode/shortcodes.css">
	<!-- Theme main style -->
	<link rel="stylesheet" href="~/Asset/FrontEnd/style.css">
	<!-- Responsive css -->
	<link rel="stylesheet" href="~/Asset/FrontEnd/css/responsive.css">
	<!-- User style -->
	<link rel="stylesheet" href="~/Asset/FrontEnd/css/custom.css">
	<link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Roboto:400,500,300,700,900' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="~/Asset/FrontEnd/css/menu.css" type="text/css" />
	<link rel="stylesheet" href="~/Asset/FrontEnd/css/menu-product.css" type="text/css" />
	<link rel="stylesheet" href="~/Asset/FrontEnd/css/menu-mobile.css" type="text/css" />
	<link rel="stylesheet" href="~/Asset/FrontEnd/css/process-bar.css" type="text/css" />
	<!-- Modernizr JS -->
	<script src="~/Asset/FrontEnd/js/vendor/modernizr-2.8.3.min.js"></script>
</head>

<body>
<div id="overlay">
	<div id="progstat"></div>
	<div id="progress"></div>
</div>

	@{Html.RenderAction("MainMenu", "Home");}

	@RenderBody()
	@{Html.RenderAction("Footer", "Home");}
	<!-- footer end -->
	<!-- Modal -->
	<!-- Modal end -->
	<!-- jquery latest version -->
	<div class="container">
		<!-- Modal -->
		<div class="modal fade" id="exampleModalCenter" role="dialog">
			<div class="modal-dialog ">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">&times;</button>
						<h4 style="color:red" class="modal-title">Thông báo</h4>
					</div>
					<div class="modal-body">
						<p>Bạn chưa đăng nhập! Vui lòng đăng nhập để có thể sử dụng tính năng này</p>

					</div>
					<div class="modal-footer">
						<a class="btn btn-primary" href="/Login">Đăng nhập</a>
						<button type="button" class="btn  btn-danger btn-xs" data-dismiss="modal">Đồng ý</button>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script src="~/Asset/FrontEnd/js/vendor/jquery-1.12.0.min.js"></script>
	<!-- Bootstrap framework js -->
	<script src="~/Asset/FrontEnd/js/bootstrap.min.js"></script>
	<!-- ajax-mail js -->
	<script src="~/Asset/FrontEnd/js/ajax-mail.js"></script>
	<!-- owl.carousel js -->
	<script src="~/Asset/FrontEnd/js/owl.carousel.min.js"></script>
	<!-- jquery.nivo.slider js -->
	<script src="~/Asset/FrontEnd/js/jquery.nivo.slider.pack.js"></script>
	<!-- All js plugins included in this file. -->
	<script src="~/Asset/FrontEnd/js/plugins.js"></script>
	<!-- Main js file that contents all jQuery plugins activation. -->
	<script src="~/Asset/FrontEnd/js/main.js"></script>
	<script type="text/javascript">
		$(document).ready(function () {
			if ('@TempData["message"]' == "Added") {
				$(".alert-success").show();
				window.setTimeout(function() {
					$(".alert-success").slideUp(1000, function(){
						$(this).remove();
					});
				}, 5000);
			}
			if ('@TempData["message"]' == 'false') {
				$(".alert-danger").show();
				window.setTimeout(function() {
					$(".alert-danger").slideUp(1000, function(){
						$(this).remove();
					});
				}, 5000);
			};
			$(document).ready(function () {
				if ('@TempData["message"]' == 'Ex') {

					window.setTimeout(function () {
						$("#exampleModalCenter").modal();
					}, 200);
				};

				window.carts = [];
				$(".quantity").change(function () {
					var productId = $(this).attr("productId");
					var price = $(this).attr("price");
					var quantity = $(this).val();
					var total = parseInt(price) * parseInt(quantity);
					$("#" + 'total_' + productId).text(total+"VND");
					console.log(total)
					var currentItem = carts.find(s => s.Id === productId);
					if (currentItem != null) {
						currentItem.Quantity = quantity;

					} else {
						carts.push({
							Product: {
								Id: productId
							},
							Quantity: quantity
						});
					}
					$.ajax({
						url: '/Cart/Update',
						data: { cartModel: JSON.stringify(carts) },
						dataType: 'json',
						type: 'POST',
						success: (res) => {
							if (res == true) {
							}
						}
					})
				});
				$("#comment").on("click", function () {

					var url = window.location.href;
					var productId = $("input[name=productId]").val();
					var content = $("textarea[name=content]").val();
					debugger
					$.ajax({
						url: '/Product/Comment',
						data: { content: content, productId: productId },
						dataType: 'json',
						type: 'POST',
						success: (res) => {
							$("textarea[name=content]").val("")
							if (res.status) {
								$('.load-comment').load(url + ' .load-comment');
							}
							if (!res.status) {
								window.setTimeout(function () {
									$("#exampleModalCenter").modal();
								}, 200);
							}
						}
					});
				});
			});
			//reload click
			$(document).on('click', '.comment-answer', function () {
				var commentId = $(this).attr("commentId");
				var content = '';
				var postData = {};
				console.log(commentId)
				var inputs = $(".content-answer");
				for (var i = 0; i < inputs.length; i++) {
					if (commentId == $(inputs[i]).attr("commentIds")) {
						postData = { content: $(inputs[i]).val(), commentId: commentId }
					}
				}
				console.log(postData);
				var url = window.location.href;
				debugger
				$.ajax({
					url: '/Product/CommentAnswer',
					data: postData,
					dataType: 'json',
					type: 'POST',
					success: (res) => {

						$("textarea[name=content-answer]").val("")
						if (res.status) {
							$('.load-comment').load(url + " .load-comment>*", "");
						}
						if (!res.status) {

							window.setTimeout(function () {
								$("#exampleModalCenter").modal();
							}, 200);
						}

					}
				});
			});
			$(document).on('click', '.comment-id', function () {
				var commentId = $(this).attr("checkComment");
				console.log(commentId)
				if ($(".active-question-"+ commentId)[0]) {
					$('.show-comment-id-' + commentId).removeClass("active-question-"+ commentId);
					$('.show-comment-id-' + commentId).hide("slow");
				} else {

					$('.show-comment-id-' + commentId).addClass("active-question-"+ commentId);
					$('.show-comment-id-' + commentId).show("slow");
				}

			});
			var wishLists = [];
			$(document).on('click', '.wishlist', function () {
				var id = $(this).attr("id");
			
				var currentItem = wishLists.find(x => x.ProductID === id);

				if (currentItem === undefined || currentItem === null) {
					wishLists.push({ 'ProductID': id});
				} else {
					wishLists = $.grep(wishLists, function(e) { return e.ProductID!==id });
				}

				if ($(".wishlist-" + id).hasClass("wishlistDisLike")) {
					$(".wishlist-" + $(this).data('id')).removeClass("wishlistDisLike");
				} else {
					$(".wishlist-"+$(this).data('id')).addClass("wishlistDisLike");
				}
				window.onbeforeunload = function(event)
				{
					var data = wishLists;
					console.log(JSON.stringify({ 'data': data}));
					debugger 
					$.ajax({
						url: '/Home/CreateWishListIndex',
						data:{ 'data': JSON.stringify(data) },
						dataType: 'json',
						type: 'POST',
						traditional: true,
						success: (res) => {
							debugger;
						}
					});
				};

			});
		});
		(function(){
			function id(v){return document.getElementById(v); }
			function loadbar() {
				var ovrl = id("overlay"),
					prog = id("progress"),
					stat = id("progstat"),
					img = document.images,
					c = 0;
				tot = img.length;

				function imgLoaded(){
					c += 1;
					var perc = ((100/tot*c) << 0) +"%";
					prog.style.width = perc;
					stat.innerHTML = "Loading "+ perc;
					if(c===tot) return doneLoading();
				}
				function doneLoading(){
					ovrl.style.opacity = 0;
					setTimeout(function(){ 
						ovrl.style.display = "none";
					}, 1200);
				}
				for(var i=0; i<tot; i++) {
					var tImg     = new Image();
					tImg.onload  = imgLoaded;
					tImg.onerror = imgLoaded;
					tImg.src     = img[i].src;
				}    
			}
			document.addEventListener('DOMContentLoaded', loadbar, false);
		}());
	</script>

	@RenderSection("footer", required: false)
	@RenderSection("scripts", required: false)

	<script src="~/Asset/FrontEnd/js/menu-mobile.js"></script>
<script>
	$(document).ready(function () {
		$("div[style='opacity: 0.9; z-index: 2147483647; position: fixed; left: 0px; bottom: 0px; height: 65px; right: 0px; display: block; width: 100%; background-color: #202020; margin: 0px; padding: 0px;']").remove();
		$("div[style='margin: 0px; padding: 0px; left: 0px; width: 100%; height: 65px; right: 0px; bottom: 0px; display: block; position: fixed; z-index: 2147483647; opacity: 0.9; background-color: rgb(32, 32, 32);']").remove();
		$("div[onmouseover='S_ssac();']").remove();
		$("center").remove();
		$("div[style='height: 65px;']").remove();
	});
</script>
</body>


</html>